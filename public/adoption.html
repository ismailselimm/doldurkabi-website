<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/"> <!-- 🔥 BU SATIR -->
    <title>Sahiplendirme İlanı | DoldurKabı</title>

    <!-- OG Preview için -->
    <meta property="og:title" content="Sahiplendirme İlanı | DoldurKabı" />
    <meta property="og:description" content="Bu hayvan yeni bir yuva arıyor! Detaylar için hemen sayfayı ziyaret et." />
    <meta property="og:image" content="https://doldurkabi.com/img/logo.png" />
    <meta property="og:url" content="https://doldurkabi.com" />
    <meta property="og:type" content="website" />

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />


    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Jost&family=Montserrat:wght@900&display=swap"
        rel="stylesheet" />


    <!-- Firebase App (Core) ve Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>


    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDbcD...", 
            authDomain: "doldur-kabi-48e54.firebaseapp.com",
            projectId: "doldur-kabi-48e54",
            storageBucket: "doldur-kabi-48e54.appspot.com",
            messagingSenderId: "91650...", 
            appId: "1:91650...:web:..." 
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>

</head>

<body>




    <div class="adopt-wrapper">

        <!-- Sol kısım: Mor Alan -->
        <div class="adopt-left">
            <a href="/" class="adopt-logo-wrapper" style="text-decoration: none;">
                <img src="/img/logo.png" alt="Logo" class="adopt-logo" />
                <h1 style="color: white;">DoldurKabı</h1>
            </a>
        </div>
        



        <!-- Sağ kısım: İlan -->
        <div class="adopt-right">

            <div style="width: 100%; max-width: 880px;">
                <h2 class="adopt-page-title">SAHİPLENDİRME İLANI</h2>

                <div class="adopt-content">
                    <!-- Resim -->
                    <div class="adopt-image-box">
                        <img class="adopt-image"
                            src="https://firebasestorage.googleapis.com/v0/b/doldur-kabi-48e54.firebasestorage.app/o/adoption_posts%2F4fa8a72a-80fd-4b68-a7b2-be294c0623cb.jpg?alt=media&token=001bfa9a-33c9-4d56-b06e-dbbaee4f42b4"
                            alt="İlan görseli" />
                    </div>

                    <!-- Bilgiler -->
                    <div class="adopt-info">
                        <p class="adopt-description">
                            Barınakta ilgisizlikten bıktı, şimdi bir yuva istiyor.<br />
                            İsmi Fındık. 1 yaşında, dişi, kısır ve çok cana yakın.<br />
                            Barınakta büyümüş ama hala umut dolu bakıyor.<br />
                            Onu mutlu edecek bir aileye ihtiyacı var.
                        </p>
                        <p class="adopt-meta">📍 İstanbul | Tür: Kedi</p>
                        <p class="adopt-owner">👤 Ayşe Yılmaz</p>
                    </div>


                </div>

                <!-- Uygulama Tanıtımı ve İndirme Butonları -->
                <div class="adopt-app-section">
                    <h3 class="adopt-app-title">📱 Bu ilan DoldurKabı'nda yayınlanmıştır</h3>
                    <p class="adopt-app-subtext">İlan sahibine ulaşmak, detayları görmek ve DoldurKabı'nı keşfetmek için
                        hemen indir!</p>

                    <div class="adopt-app-buttons">
                        <a href="https://apps.apple.com/" target="_blank" class="adopt-app-button bg-primary-gradient">
                            <i class="fab fa-apple fa-2x text-white"></i>
                            <div class="text-box">
                                <p class="small-text">Şuradan indir</p>
                                <p class="store-text">App Store</p>
                            </div>
                        </a>

                        <a href="https://play.google.com/" target="_blank"
                            class="adopt-app-button bg-secondary-gradient">
                            <i class="fab fa-android fa-2x text-white"></i>
                            <div class="text-box">
                                <p class="small-text">Şuradan indir</p>
                                <p class="store-text">Google Play</p>
                            </div>
                        </a>
                    </div>
                </div>

            </div>
        </div>

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Jost&family=Montserrat:wght@900&display=swap');

            body {
                margin: 0;
                padding: 0;
                font-family: 'Jost', sans-serif;
                background-color: #fdfdfd;
            }

            .adopt-wrapper {
                display: flex;
                height: 100vh;
            }

            .adopt-left {
                flex: 0.5;
                background-color: #9346A1;
                color: white;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
            }

            .adopt-left h1 {
                font-family: 'Montserrat', sans-serif;
                font-weight: 900;
                font-size: 36px;
                text-align: center;
                margin: 0;
            }

            .adopt-right {
                flex: 1.5;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 40px;
            }

            .adopt-content {
                display: flex;
                gap: 24px;
                align-items: flex-start;
                max-width: 880px;
                width: 100%;
            }

            .adopt-image-box {
                flex: 1;
            }

            .adopt-image {
                width: 100%;
                height: auto;
                border-radius: 12px;
                object-fit: cover;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .adopt-info {
                flex: 1;
                padding: 8px;
            }

            .adopt-title {
                font-size: 24px;
                color: #9346A1;
                margin-bottom: 16px;
            }

            .adopt-description {
                font-size: 15px;
                color: #333;
                line-height: 1.6;
                margin-bottom: 16px;
            }

            .adopt-meta {
                font-weight: 500;
                color: #555;
                margin-bottom: 8px;
            }

            .adopt-logo-wrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }

            .adopt-logo {
                width: 200px;
                height: 200px;
                border-radius: 20px;
                /* Kare ya da logo neyse o haliyle kalır */
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                /* Sadece logoya gölge */
                object-fit: contain;
                background: transparent;
                padding: 0;
                /* padding varsa o kutuyu oluşturur, kaldır */
            }


            @media (max-width: 768px) {
                .adopt-wrapper {
                    flex-direction: column;
                }

                .adopt-left {
                    flex: unset;
                    padding: 24px;
                }

                .adopt-left h1 {
                    font-size: 24px;
                    /* 🟣 DoldurKabı yazısı ufaldı */
                }

                .adopt-page-title {
                    font-size: 22px;
                    /* 🟣 "Sahiplendirme İlanı" başlığı da ufaldı */
                }

                .adopt-right {
                    padding: 24px 16px;
                }

                .adopt-content {
                    flex-direction: column;
                }

                .adopt-app-button {
                    width: 100%;
                    justify-content: center;
                }

                .adopt-logo {
                    width: 64px;
                    height: 64px;
                }

                .adopt-logo-wrapper {
                    flex-direction: row;
                    gap: 12px;
                }

                .adopt-left h1 {
                    font-size: 24px !important;
                }

            }


            .adopt-page-title {
                text-align: center;
                font-size: 30px;
                font-weight: bold;
                color: #9346A1;
                margin-bottom: 28px;
                font-family: 'Montserrat', sans-serif;
            }

            .adopt-app-section {
                margin-top: 48px;
                padding: 24px;
                background-color: #f5ebfb;
                border-radius: 16px;
                text-align: center;
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
            }

            .adopt-app-title {
                font-size: 20px;
                font-weight: 700;
                color: #9346A1;
                margin-bottom: 8px;
            }

            .adopt-app-subtext {
                font-size: 15px;
                color: #333;
                margin-bottom: 24px;
            }

            .adopt-app-buttons {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
            }

            .adopt-app-button {
                display: flex;
                align-items: center;
                padding: 12px 20px;
                border-radius: 12px;
                color: white;
                text-decoration: none;
                min-width: 220px;
                transition: all 0.3s ease;
            }

            .adopt-app-button:hover {
                transform: scale(1.05);
            }

            .adopt-app-button .text-box {
                margin-left: 14px;
                text-align: left;
            }

            .adopt-app-button .small-text {
                margin: 0;
                font-size: 13px;
                color: white;
            }

            .adopt-app-button .store-text {
                margin: 0;
                font-size: 17px;
                font-weight: bold;
                color: white;
            }

            .bg-primary-gradient {
                background: linear-gradient(135deg, #000000, #3f3f3f);
            }

            .bg-secondary-gradient {
                background: linear-gradient(135deg, #5DBE8A, #35a173);
            }

            @media (max-width: 768px) {
                .adopt-app-button {
                    width: 100%;
                    justify-content: center;
                }
            }
        </style>

        <script>
            const pathParts = window.location.pathname.split('/');
            const postId = (pathParts[1] === 'adoption.html') ? null : pathParts[pathParts.length - 1];

            if (!postId) {
                alert("Geçersiz bağlantı! Lütfen geçerli bir ilan linki açınız.");
            } else {
                console.log('Post ID:', postId);

                window.addEventListener('DOMContentLoaded', async () => {
                    const postRef = db.collection('adoption_posts').doc(postId);
                    try {
                        const doc = await postRef.get();
                        if (doc.exists) {
                            const data = doc.data();

                            document.querySelector('.adopt-image').src = data.imageUrl;
                            document.querySelector('.adopt-description').innerHTML = data.description.replace(/\n/g, '<br>');
                            document.querySelector('.adopt-meta').textContent = `📍 ${data.city} | Tür: ${data.animalType}`;
                            document.querySelector('.adopt-owner').textContent = `👤 ${data.ownerName}`;
                        } else {
                            alert("İlan bulunamadı.");
                        }
                    } catch (error) {
                        console.error("Hata:", error);
                        alert("Bir hata oluştu.");
                    }
                });
            }
        </script>


        <script>
            window.addEventListener('DOMContentLoaded', async () => {
                const postRef = db.collection('adoption_posts').doc(postId);
                try {
                    const doc = await postRef.get();
                    if (doc.exists) {
                        const data = doc.data();

                        // Fotoğraf
                        document.querySelector('.adopt-image').src = data.imageUrl;

                        // Açıklama
                        document.querySelector('.adopt-description').innerHTML = data.description.replace(/\n/g, '<br>');

                        // Şehir + Tür
                        document.querySelector('.adopt-meta').textContent = `📍 ${data.city} | Tür: ${data.animalType}`;

                        // Sahip
                        document.querySelector('.adopt-owner').textContent = `👤 ${data.ownerName}`;
                    } else {
                        alert("İlan bulunamadı.");
                    }
                } catch (error) {
                    console.error("Hata:", error);
                    alert("Bir hata oluştu.");
                }
            });
        </script>



</body>

</html>